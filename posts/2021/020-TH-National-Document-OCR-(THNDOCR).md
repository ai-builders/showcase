---
date: "2021-07-23"
title: "TH National Document OCR (THND OCR) "
builder: "Kampanart Chaimooltan (Cop)"
builder_info: "มัธยมศึกษาปีที่ 5 / เชียงใหม่"
thumbnail: "/images/2021/020/01.jpg"
links:
  github: "https://github.com/copninich/TH-National-Document-OCR/"
  facebook: "https://www.facebook.com/aibuildersx/posts/"
  blog: "https://copninich.medium.com/5a673cc8a686"
---

![Cop](images/2021/020/01.jpg)

- โครงการพัฒนาการอ่านเอกสารราชการด้วย Optical Character Recognition (OCR) ภายใต้ชื่อ Project TH National Document OCR (THND OCR) Based on Tesseract เป็นส่วนหนึ่งของการพัฒนาสังคมภาครัฐ ให้สามารถโปร่งใส ตรวตสอบได้ และ เป็นส่วนหนึ่งของการพัฒนาวงการ Open source ของ OCR Thai ให้มี Community ที่ใหญ่ขึ้น!
- เมื่อเรามาพูดถึงเอกสารราชการ หลายคนจะนึกถึงเอกสารที่สแกนแบบเละๆ มีความไม่เป็นระเบียบเรียบร้อย สแกนมาเอียงบ้าง ตัวอักษรซีด เข้มเกิน ทำให้ยากต่อการที่จะอ่านเอกสาร อีกอย่างเมื่อเราดูประกาศ/คำสั่ง/ระเบียบ ของรัฐที่ถูก Publish ขึ้น Website ของหน่วยงานต่างๆ พบว่ามีแค่สกุลไฟล์ .pdf ไม่พบสกุลไฟล์อื่นๆ เช่น text เป็นต้น
- เลือกทำ OCR กับฟ้อนท์ TH Sarabun เนื่องจากระเบียบการจัดทำ และออกหนังสือประกาศและคำสั่งของทางราชการไทย เพื่อให้เป็นมาตรฐานเดียวกันทั่วประเทศนั้นได้มีการกำหนดการใช้งาน ฟอนต์มาตรฐานแห่งชาติ (National Font) สำหรับการออกหนังสือราชการทุกประเภท คือ ฟอนต์ตระกูล TH Sarabun ขนาด 16–20 px
- และเมื่อดูในส่วนของ Repository ของ langdata_lstm Tesseract ในส่วนของรายชื่อฟอนต์ที่ใช้ในการ Train tesseract นั้นไม่พบฟอนต์มาตรฐานราชการไทย (ตระกูลฟอนต์ที่ขึ้นต้นด้วย TH) แม้แต่ฟอนต์เดียว
- ทดลองใช้ทั้ง Tesseract และ easyOCR เลือกใช้ Tessaract เนื่องจากประสิทธิภาพดีกว่าเล็กน้อยสำหรับเอกสารราชการที่นำมาทดสอบ
- ข้อความสำหรับ train ของ Tesseract เป็นข้อความมั่วๆที่นำมาเรียงต่อกัน ไม่มีความหมาย จึงเปลี่ยนมาใช้ข้อความจากชุดข้อมูลข่าวของ PyThaiNLP และ open source อื่นๆ เช่น prachathai67k, TR-TPBS, ถ้อยคำแถลงการนายกรัฐมนตรี, และรัฐธรรมนูญแห่งราชอาณาจักรไทย 
- เทรนด้วยข้อมูล 50,000 ประโยคและ validate ด้วยข้อมูล 10,000 ประโยค
- test set เป็นการทดสอบด้วยข้อมูลจริง 110 รูปที่มีขนาดซูม 80-180% มีตัวอักษรซีด/ไม่ชัด ขีดทับตัวอักษร รอยประทับตราทางราชการ ตัวอักษรเอียง
- วัดผลด้วย character error rate (CER; ยิ่งน้อยยิ่งดี) เฉลี่ยได้ที่ 4.8% (Tesseract แบบไม่ finetune ได้ 5.4%; T-OCR ของ AI for Thai / NECTEC ได้ 13.6%)

![Problem Statement](images/2021/020/02.jpg)


![Tesseract](images/2021/020/03.jpg)


![Deployment](images/2021/020/04.jpg)

### แรงจูงใจในการเข้าร่วมโครงการ (จากใบสมัครเข้าร่วมเมื่อ 9 สัปดาห์ที่แล้ว)

> "แรงบันดาลใจที่ผมสมัครเข้าโครงการในครั้งนี้ก็มาจากการที่เห็นพี่ๆ ที่ติดตามและรู้จัก ที่มีความรู้ด้านของ AI ก็ได้เห็นทั้ง Blog ผลงานต่างๆ ก็รู้สึกว่าเห้ยย โคตรเจ๋งเลย สักวันอยากจะเก่งเหมือนพี่เขามั่ง อีกข้อก็จะเป็นในส่วนของอยากจะมีความรู้ ทักษะด้าน AI ไปช่วยครูในการพัฒนาระบบงานต่างๆของโรงเรียน ลดค่าซื้อระบบเอางบไปลงทุนกับส่วนอื่น ละก็อยากที่จะเป็นความรู้ติดตัวไปใช้ในงานหรือการเรียนในอนาคตด้วยครับ ในการเรียน AI อาจจะมีบางเรื่องที่เป็นเรื่องที่ใหม่ และยากสำหรับผมแต่ผมเชื่อในคติที่ผมยึดถือมาตลอดและได้พิสูจน์แล้วว่า ไม่ฝึกก็ไม่มีวันทำได้ ไม่ขวนขวายก็ไม่มีวันสำเร็จครับ"
> "ในปัจจุบันเรื่อง Ai เป็นเรื่องที่มี effect ต่อสังคม วงการเทคโนโลยีของเราอย่างมาก สามารถที่จะ เปลี่ยนแปลงขับเคลื่อนสิ่งต่างๆ อย่างก้าวกระโดดตลอดที่ผมเขียนโปรแกรมมา หลายงานๆ ทั้งส่วนตัว ช่วยรร. มีหลายๆงานที่ต้องการนำ AI เข้ามาช่วยเพื่อปรับปรุงลดขั้นตอนต่างๆ มีหลายครั้งที่ รร. ต้องไปซื้อระบบ AI ราคาหลายหมื่นมาใช้ ซึ่งผมได้มองศึกษาแล้วเป็นเรื่องที่เราสามารถทำได้เอง แต่เรายังขาดความรู้ในการพัฒนา การที่ผมสมัครโครงการนี้เพราะผมเห็นว่าผมจะได้นำความรู้ ประสบการณ์ที่ได้จากโครงการนี้ไปช่วยพัฒนาระบบโรงเรียนผม ถ่ายทอดให้รุ่นน้องดูแลและพัฒนาต่อจากผม เป็นความรู้ที่สามารถใช้เรียนต่อในมหาลัย ไปต่อยอดสู่อาชีพได้"
> หลังจบโครงการ:
> "หลายๆคนมักจะบอกว่าการทำ OCR เป็นง่ายที่ง่าย ผมเห็นด้วยครับมันง่ายครับ แต่ทำไมกลับไม่มีใครที่คิดลงมือจะทำ? ทั้งๆที่ Tools ของมันครบคันมากๆ หลายๆที่ หลายๆบริษัทก็พยายามชูฟีเจอร์นี้ มันก็เหมือนกับการมีสูตรอาหารที่คุณชอบอยู่ในมือไม่ได้ด้อยกว่าใคร มีวัตถุดิบ ของทุกอย่างครบคัน ขาดแค่คนลงมือทำ แต่ก็ยังไปซื้ออาหารนั้นมาทานอยู่ประจำ ดังนั้นผมขอที่จะเป็นคนพัฒนา OCR เป็นพ่อครัวที่จะทำเมนู OCR Thai เพื่อให้ทุกคนมี Tools OCR Thai ที่ดีไปใช้งาน และเป็นการพัฒนาวงการนี้ให้ใหญ่ขึ้นอีกด้วยครับ"